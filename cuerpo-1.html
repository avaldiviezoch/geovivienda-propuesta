<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Beneficios + Nuestras Cifras</title>
  <meta name="color-scheme" content="light dark" />

  <!-- Fuente SOLO para la franja roja -->
  <link href="https://fonts.googleapis.com/css2?family=Forum&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand:#c62a4b;
      --ink:#1d212a;
      --muted:#5e6472;
      --maxw:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
      color:var(--ink);
      background:#fff;
    }

    /* =================== PARTE SUPERIOR (ICONOS + TEXTOS) =================== */
    section.features{
      background:#fff;                           /* todo blanco */
      padding: clamp(46px, 8vw, 96px) clamp(20px, 6vw, 48px);
      text-align:center;
    }
    .features .wrap{max-width:var(--maxw); margin:0 auto}

    .features h2{
      margin:0 0 clamp(28px, 4vw, 48px);
      font-weight:800; letter-spacing:.2px; color:var(--brand);
    }

    .features .grid{
      direction: rtl; /* derecha → izquierda en desktop como pediste */
      display:grid;
      grid-template-columns: repeat(3, minmax(260px,1fr));
      column-gap: clamp(26px, 4.5vw, 56px);
      row-gap: clamp(22px, 3.5vw, 38px);
      align-items:start;
    }
    .features .item{ direction:ltr; padding-block: 8px; }

    .features .icon{
      width: clamp(120px, 12vw, 140px);
      height: clamp(120px, 12vw, 140px);
      margin: 0 auto 14px;
      display:grid; place-items:center;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,.10));
    }
    .features .icon img{
      width:100%; height:100%;
      object-fit:contain; display:block;
    }

    .features h3{
      margin:10px 0;
      font-size: clamp(18px, 2.2vw, 22px);
      font-weight:700; color:#2a2f3b;
    }
    .features p{
      margin:0 auto;
      color:var(--muted);
      max-width: 50ch;
      line-height:1.6;
      font-size: clamp(14px, 1.6vw, 16px);
    }

    @media (max-width:980px){
      .features .grid{ grid-template-columns:1fr; direction:ltr; }
    }

    /* =================== FRANJA ROJA (NO CAMBIAR) =================== */
    section.stats{
      background:#c62a4b; color:#fff;
      padding: clamp(42px, 7vw, 88px) clamp(18px, 5vw, 42px);
      text-align:center;
      font-family:"Forum", Georgia, serif;   /* fuente pedida solo aquí */
    }
    .stats .wrap{ max-width:1200px; margin:0 auto }

    .stats h2{
      margin:0 0 clamp(26px, 3.8vw, 44px);
      font-size: clamp(22px, 3.4vw, 40px);
      font-weight:400; letter-spacing:.2px;
    }

    /* 4 KPIs con separadores centrados entre ellos */
    .kpis{
      display:grid;
      grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr; /* KPI · KPI · KPI · KPI */
      gap: clamp(14px, 3.4vw, 34px);
      align-items:center;
    }
    .kpi-sep{
      display:flex; align-items:center; justify-content:center;
      font-size: clamp(22px, 3.2vw, 34px);
      line-height:1; user-select:none;
    }
    @media (max-width: 900px){
      .kpis{ grid-template-columns: 1fr; }
      .kpi-sep{ display:none; }
    }

    .counter{
      display:flex; flex-direction:column; align-items:center; gap:10px;
    }

    /* Números elegantes y más pequeños */
    .slot{
      display:inline-flex; align-items:baseline; line-height:1;
      gap: .26em;  /* aire entre grupos */
    }
    .digit{
      font-variant-numeric: tabular-nums;
      font-weight:400;                     /* Forum elegante */
      font-size: clamp(28px, 5vw, 48px);   /* tamaño reducido */
      letter-spacing:.01em;
      min-width:.60em; text-align:center;
      text-shadow: 0 1px 2px rgba(0,0,0,.12);
    }
    /* Separador de miles — centrado exacto */
    .sep{
      font-weight:400;
      font-size: clamp(28px, 5vw, 48px);
      margin: 0 .14em;
      line-height:1; display:inline-flex; align-items:center; justify-content:center;
      transform: translateY(0);
      text-shadow: 0 1px 2px rgba(0,0,0,.12);
    }

    .label{
      font-size: clamp(12px, 1.6vw, 15px);
      opacity:.95;
    }
    .footnote{
      margin-top: clamp(18px, 3vw, 26px);
      font-size: 11px; opacity:.9;
    }
  </style>
</head>
<body>

  <!-- =================== PARTE SUPERIOR (ICONOS + TEXTOS) =================== -->
  <section class="features" id="beneficios">
    <div class="wrap">
      <h2>¿Para qué nos ayuda el Geovivienda?</h2>

      <div class="grid">
        <!-- Orden visual D→I por CSS (direction: rtl) -->
        <div class="item">
          <div class="icon">
            <img src="https://lh3.googleusercontent.com/d/1WWzVcjYg0LckZn6XUb_IFbLMuQYevGNl=w1000"
                 alt="Monitoreo y seguimiento de proyectos" loading="lazy">
          </div>
          <h3>Monitoreo y Seguimiento de Proyectos</h3>
          <p>Control y seguimiento en tiempo real de proyectos, obras y programas del MVCS.</p>
        </div>

        <div class="item">
          <div class="icon">
            <img src="https://lh3.googleusercontent.com/d/16Jr37ht4qdxPRdBdeccJcv5FMmCjCUKM=w1000"
                 alt="Gestión y toma de decisiones" loading="lazy">
          </div>
          <h3>Gestión y Toma de Decisiones</h3>
          <p>Priorización de intervenciones y soporte a políticas nacionales.</p>
        </div>

        <div class="item">
          <div class="icon">
            <img src="https://lh3.googleusercontent.com/d/1STmtXaPapzNFc41049fS2uWdHV37jYch=w1000"
                 alt="Información geoespacial integrada" loading="lazy">
          </div>
          <h3>Información Geoespacial Integrada</h3>
          <p>Acceso a información georreferenciada, planificación urbana e integración de datos.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- =================== FRANJA ROJA (NUESTRAS CIFRAS) =================== -->
  <section class="stats" id="cifras">
    <div class="wrap">
      <h2>Nuestras Cifras</h2>

      <div class="kpis">
        <!-- KPI 1 -->
        <div class="counter" data-value="15333">
          <div class="slot" aria-label="Cobertura de Agua"></div>
          <div class="label">Cobertura de Agua</div>
        </div>
        <div class="kpi-sep">·</div>

        <!-- KPI 2 -->
        <div class="counter" data-value="14426">
          <div class="slot" aria-label="Proyectos Culminados"></div>
          <div class="label">Proyectos Culminados</div>
        </div>
        <div class="kpi-sep">·</div>

        <!-- KPI 3 -->
        <div class="counter" data-value="427311">
          <div class="slot" aria-label="Conexiones de agua nuevas"></div>
          <div class="label">Conexiones de agua nuevas</div>
        </div>
        <div class="kpi-sep">·</div>

        <!-- KPI 4 -->
        <div class="counter" data-value="157499">
          <div class="slot" aria-label="Conexiones de Alcantarillado"></div>
          <div class="label">Conexiones de Alcantarillado</div>
        </div>
      </div>

      <div class="footnote">Actualizado al 24/12/2025</div>
    </div>
  </section>

  <script>
  /* ===== Contadores (parte entera, sin decimales) – FRANJA ROJA ===== */
  (function(){
    const SEP='.';               // separador miles
    const duration=1400;
    const extraSpin=6;
    const easeOut=t=>1-Math.pow(1-t,3);

    const counters=document.querySelectorAll('#cifras .counter');
    const formatES=num => num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, SEP);

    function buildDigits(slot, str){
      slot.innerHTML='';
      for(const ch of str){
        if(ch===SEP){
          const s=document.createElement('span');
          s.className='sep'; s.textContent='.'; slot.appendChild(s);
        }else{
          const d=document.createElement('span');
          d.className='digit'; d.dataset.target=ch; d.textContent='0';
          slot.appendChild(d);
        }
      }
    }
    function spinDigit(el, finalDigit, idx){
      const start=performance.now();
      const spins=extraSpin+idx;
      const total=spins*10+Number(finalDigit);
      function frame(now){
        const t=Math.min(1,(now-start)/(duration+idx*100));
        const eased=easeOut(t);
        const step=Math.floor(total*eased);
        el.textContent=(step%10).toString();
        if(t<1) requestAnimationFrame(frame); else el.textContent=finalDigit;
      }
      requestAnimationFrame(frame);
    }
    function runCounter(counter){
      const val = Number(counter.dataset.value || '0');
      const slot = counter.querySelector('.slot');
      buildDigits(slot, formatES(val));
      // precarga
      slot.querySelectorAll('.digit').forEach(d=>d.textContent=Math.floor(Math.random()*10));
      // anima
      let i=0;
      for(const node of slot.children){
        if(node.classList && node.classList.contains('digit')){
          spinDigit(node, node.dataset.target, i++);
        }
      }
    }

    // dispara al entrar en viewport
    const stats=document.querySelector('#cifras');
    let fired=false;
    const io=new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting && !fired){
          fired=true; counters.forEach(runCounter); io.disconnect();
        }
      });
    },{threshold:.25});
    if(stats) io.observe(stats);
  })();
  </script>
</body>
</html>
