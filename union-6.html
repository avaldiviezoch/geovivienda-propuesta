<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GeoVivienda — Propuesta (menu + carátula + cifras)</title>
  <meta name="color-scheme" content="light dark" />
  <!-- Fuente SOLO para la franja de cifras -->
  <link href="https://fonts.googleapis.com/css2?family=Forum&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fff6f3;        
      --ink:#1d212a;       
      --muted:#5e6472;     
      --stroke:#e6e0de;    
      --brand:#c62a4b;     
      --brand-ink:#fff;    
      --glass: color-mix(in srgb, #ffffff 65%, transparent);
      --maxw: 1200px;
    }

    *{box-sizing:border-box}
    html,body{margin:0;height:100%;scroll-behavior:smooth}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      background:linear-gradient(180deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 90%, var(--brand) 10%) 100%);
      background-size: 100% 200%;
      animation: bgShift 12s ease-in-out infinite alternate;
      color:var(--ink)
    }
    @keyframes bgShift { 0% {background-position:0% 0%} 100% {background-position:0% 100%} }

    /* HEADER */
    header.site{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(140%) blur(8px);
      background:var(--glass);
      border-bottom:1px solid var(--stroke);
      box-shadow:0 2px 8px rgba(0,0,0,.05);
    }
    .navwrap{
      max-width:var(--maxw); margin-inline:auto;
      padding:clamp(8px,2.4vw,14px) clamp(12px,3.6vw,24px);
      display:flex; align-items:center; gap:14px; justify-content:space-between;
    }
    .logo{display:flex; align-items:center; gap:.6rem; text-decoration:none; color:inherit; transition:transform .3s}
    .logo:hover{transform:scale(1.05)}
    .logo img{height:36px; width:auto; border-radius:10px; border:1px solid var(--stroke); background:#fff; transition:box-shadow .3s}
    .logo:hover img{box-shadow:0 0 12px rgba(198,42,75,.3)}
    .logo span{font-weight:800}
    nav ul{list-style:none; display:flex; gap:clamp(10px,2.4vw,20px); margin:0; padding:0; flex-wrap:wrap}
    nav a{ text-decoration:none; color:inherit; font-weight:600; opacity:.85; padding:.45rem .7rem; border-radius:10px; position:relative; transition:all .3s}
    nav a::after{
      content:''; position:absolute; bottom:0; left:50%; transform:translateX(-50%) scaleX(0);
      width:60%; height:2px; background:var(--brand); opacity:0; transition:transform .3s, opacity .3s;
    }
    nav a:hover{ background:#fff6; opacity:1; transform:translateY(-2px); box-shadow:0 4px 12px rgba(198,42,75,.2) }
    nav a:hover::after{ transform:translateX(-50%) scaleX(1); opacity:.8 }
    nav a.active{ color:var(--brand) }
    nav a.active::after{ transform:translateX(-50%) scaleX(1); opacity:1 }

    .cta{ margin-left:auto }
    .btn{
      display:inline-flex; align-items:center; gap:.5rem; font-weight:700;
      padding:.6rem 1rem; border-radius:999px; border:1px solid var(--brand);
      background:var(--brand); color:var(--brand-ink); text-decoration:none;
      box-shadow:0 8px 20px rgba(198,42,75,.18); transition:all .3s; animation:pulse 2s ease-in-out infinite;
    }
    .btn:hover{ transform:scale(1.05); box-shadow:0 10px 24px rgba(198,42,75,.3) }
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}

    /* COVER */
    .cover{
      position:relative; 
      min-height: clamp(580px, 90dvh, 880px); 
      background:var(--bg); 
      overflow:hidden; 
      border-bottom:1px solid var(--stroke)
    }
    .cover .container{
      max-width:var(--maxw); margin-inline:auto;
      padding:clamp(20px,5vw,40px) clamp(12px,3.6vw,24px);
      display:grid; align-items:center; gap:clamp(16px,4vw,28px);
      grid-template-columns:1.2fr .9fr;
    }
    @media (max-width:980px){ .cover .container{ grid-template-columns:1fr } }

    .title{ font-size:clamp(28px,5vw,64px); line-height:1.04; margin:.2rem 0 .6rem; font-weight:800; opacity:0; animation:fadeInUp 1s ease forwards }
    .title span{display:inline-block; opacity:0; transform:translateY(20px); animation:letterPop .6s ease forwards; animation-delay:calc(.05s * var(--i))}
    @keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}
    @keyframes letterPop{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}

    .subtitle{ color:var(--muted); font-size:clamp(14px,1.3vw,18px); max-width:68ch; opacity:0; animation:fadeInUp 1s ease forwards .5s }
    .actions{ display:flex; gap:.6rem; flex-wrap:wrap; margin-top:12px }
    .btn.ghost{ background:#fff; color:var(--ink); border-color:var(--stroke); animation:none }
    .btn.ghost:hover{ background: color-mix(in srgb, var(--brand) 10%, #fff); transform:scale(1.05) }

    .art{ position:relative; text-align:center }
    .art img{ width:100%; max-width:480px; height:auto; display:block; margin:auto; opacity:0; transform:scale(.8) rotate(-5deg); animation:artPop 1.2s ease forwards .6s, floaty 6s ease-in-out infinite 1.8s; position:relative; z-index:1 }
    @keyframes artPop{0%{opacity:0;transform:scale(.8) rotate(-5deg)}100%{opacity:1;transform:scale(1) rotate(0)}}
    @keyframes floaty{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-12px) rotate(1deg)}}

    .cover::before{
      content:''; position:absolute; inset:0;
      background: radial-gradient(circle at 70% 20%, rgba(198,42,75,.2) 0%, transparent 50%);
      opacity:0; animation:particleBurst 2s ease-out forwards 1s; pointer-events:none; z-index:0;
    }
    @keyframes particleBurst{0%{opacity:0;transform:scale(.5)}50%{opacity:.4}100%{opacity:0;transform:scale(1.5)}}

    /* Degradado invertido para fundir con "Nuestras Cifras" */
    .cover::after{
      content:""; position:absolute; left:0; right:0; bottom:-1px; height:140px; pointer-events:none;
      /* Muy claro arriba, más oscuro abajo para juntarse con el rojo */
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,0) 0%,
        rgba(198,42,75,0.15) 60%,
        rgba(198,42,75,0.35) 100%
      );
      z-index:0;
    }

    /* Quitamos la ola para que el degradado sea limpio */
    .wave{ display:none }

    /* Apartado informativo — SIN fondo, texto más grande y sutil */
    .info-apartado{
      max-width:var(--maxw); margin-inline:auto;
      padding:clamp(18px,4vw,34px) clamp(12px,3.6vw,24px);
      background:transparent;               /* <— sin recuadro */
      border-top:none; border-bottom:none;  /* sin bordes */
      text-align:center; 
      font-size:clamp(14px,1.6vw,18px);     /* más grande */
      line-height:1.6;
      color:color-mix(in srgb, var(--muted) 90%, #000 10%);
      text-wrap:balance;
      text-shadow:0 1px 0 rgba(255,255,255,.6); /* se integra al fondo */
      opacity:0; transform:translateY(10px); animation:fadeSlideUp 1s ease forwards 1.0s;
    }
    @keyframes fadeSlideUp{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}

    /* ============ NUESTRAS CIFRAS (franja roja) ============ */
    section.stats{
      background:var(--brand); color:#fff;
      padding: clamp(42px, 7vw, 88px) clamp(18px, 5vw, 42px);
      text-align:center;
      font-family:"Forum", Georgia, serif; /* solo aquí */
    }
    .stats .wrap{ max-width:1200px; margin:0 auto }
    .stats h2{ margin:0 0 clamp(26px, 3.8vw, 44px); font-size:clamp(22px,3.4vw,40px); font-weight:400; letter-spacing:.2px }

    .kpis{
      display:grid;
      grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
      gap:clamp(14px,3.4vw,34px);
      align-items:center;
    }
    .kpi-sep{ display:flex; align-items:center; justify-content:center; font-size:clamp(22px,3.2vw,34px); line-height:1; user-select:none }
    @media (max-width:900px){ .kpis{grid-template-columns:1fr} .kpi-sep{display:none} }

    .counter{ display:flex; flex-direction:column; align-items:center; gap:10px }
    .slot{ display:inline-flex; align-items:baseline; line-height:1; gap:.26em }
    .digit{ font-variant-numeric:tabular-nums; font-weight:400; font-size:clamp(28px,5vw,48px); letter-spacing:.01em; min-width:.60em; text-align:center; text-shadow:0 1px 2px rgba(0,0,0,.12) }
    .sep{ font-weight:400; font-size:clamp(28px,5vw,48px); margin:0 .14em; line-height:1; display:inline-flex; align-items:center; justify-content:center; text-shadow:0 1px 2px rgba(0,0,0,.12) }
    .label{ font-size:clamp(12px,1.6vw,15px); opacity:.95 }
    .footnote{ margin-top:clamp(18px,3vw,26px); font-size:11px; opacity:.9 }

    /* Placeholder siguiente */
    section.next{ min-height:60vh; display:grid; place-items:center; font-size:clamp(18px,2.2vw,28px); color:#7b8291 }
    
    /* Accesibilidad */
    @media (prefers-reduced-motion:reduce){
      body, .logo, nav a, .btn, .title, .title span, .subtitle, .art img, .cover::before, .cover::after,
      .info-apartado, section.next { animation:none!important; transform:none!important; opacity:1!important }
      nav a::after{display:none}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site" role="banner">
    <div class="navwrap">
      <a class="logo" href="#inicio">
        <img src="https://lh3.googleusercontent.com/d/109rN8IqcM3AyWK6NRWNhouL-tqI03QXR=w1000" alt="Logo GeoVivienda">
        <span>GeoVivienda</span>
      </a>
      <nav aria-label="Principal">
        <ul>
          <li><a class="active" href="#inicio">Inicio</a></li>
          <li><a href="#geovisor">Geovisor</a></li>
          <li><a href="#vmvu">VMVU</a></li>
          <li><a href="#mvcs">VMCS</a></li>
          <li><a href="#sg">SG</a></li>
          <li><a href="#analisis">Análisis SIG</a></li>
        </ul>
      </nav>
      <div class="cta"><a class="btn" href="#ingresar">Ingresar</a></div>
    </div>
  </header>

  <!-- Carátula -->
  <section id="inicio" class="cover">
    <div class="container">
      <div>
        <h1 class="title">
          <span style="--i:1">Plataforma</span>
          <span style="--i:2">GIS</span>
          <span style="--i:3">del</span>
          <span style="--i:4">Ministerio</span>
          <span style="--i:5">de</span>
          <span style="--i:6">Vivienda,</span>
          <span style="--i:7">Construcción</span>
          <span style="--i:8">y</span>
          <span style="--i:9">Saneamiento</span>
        </h1>
        <p class="subtitle">
          Accede a datos geográficos y estadísticos actualizados sobre vivienda, agua, saneamiento,
          titulación y planificación urbana. Una herramienta del MVCS al servicio de la ciudadanía
          y los gobiernos locales.
        </p>
        <div class="actions">
          <a class="btn" href="#geovisor">Geovisor</a>
          <a class="btn ghost" href="#datos">Datos abiertos</a>
        </div>
      </div>
      <div class="art">
        <img class="floaty" src="https://lh3.googleusercontent.com/d/1yMPY_3miMHPYv6qXHp3013u3QHHf-0Ec=w1000" alt="Mapa Perú decorativo" />
      </div>
    </div>

    <!-- Texto institucional (sin fondo) -->
    <div class="info-apartado">
      El Geovivienda, es el medio oficial para el acceso, uso e intercambio de información espacial que genera
      el <strong>Ministerio de Vivienda, Construcción y Saneamiento</strong>, aprobado mediante la R.M. Nº087-2019-VIVIENDA.
    </div>
  </section>

  <!-- NUESTRAS CIFRAS (franja roja) -->
  <section class="stats" id="cifras">
    <div class="wrap">
      <h2>Nuestras Cifras</h2>

      <div class="kpis">
        <div class="counter" data-value="15333">
          <div class="slot" aria-label="Cobertura de Agua"></div>
          <div class="label">Cobertura de Agua</div>
        </div>
        <div class="kpi-sep">·</div>

        <div class="counter" data-value="14426">
          <div class="slot" aria-label="Proyectos Culminados"></div>
          <div class="label">Proyectos Culminados</div>
        </div>
        <div class="kpi-sep">·</div>

        <div class="counter" data-value="427311">
          <div class="slot" aria-label="Conexiones de agua nuevas"></div>
          <div class="label">Conexiones de agua nuevas</div>
        </div>
        <div class="kpi-sep">·</div>

        <div class="counter" data-value="157499">
          <div class="slot" aria-label="Conexiones de Alcantarillado"></div>
          <div class="label">Conexiones de Alcantarillado</div>
        </div>
      </div>

      <div class="footnote">Actualizado al 24/12/2025</div>
    </div>
  </section>

  <!-- Placeholder siguiente -->
  <section class="next" id="geovisor">
    <div>Contenido siguiente… (aquí irá tu geovisor / módulos).</div>
  </section>

  <script>
  /* ===== Contadores – franja "Nuestras Cifras" ===== */
  (function(){
    const SEP='.';               // separador de miles
    const duration=1400;
    const extraSpin=6;
    const easeOut=t=>1-Math.pow(1-t,3);

    const counters=document.querySelectorAll('#cifras .counter');
    const formatES=num => num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, SEP);

    function buildDigits(slot, str){
      slot.innerHTML='';
      for(const ch of str){
        if(ch===SEP){
          const s=document.createElement('span');
          s.className='sep'; s.textContent='.'; slot.appendChild(s);
        }else{
          const d=document.createElement('span');
          d.className='digit'; d.dataset.target=ch; d.textContent='0';
          slot.appendChild(d);
        }
      }
    }
    function spinDigit(el, finalDigit, idx){
      const start=performance.now();
      const spins=extraSpin+idx;
      const total=spins*10+Number(finalDigit);
      function frame(now){
        const t=Math.min(1,(now-start)/(duration+idx*100));
        const eased=easeOut(t);
        const step=Math.floor(total*eased);
        el.textContent=(step%10).toString();
        if(t<1) requestAnimationFrame(frame); else el.textContent=finalDigit;
      }
      requestAnimationFrame(frame);
    }
    function runCounter(counter){
      const val = Number(counter.dataset.value || '0');
      const slot = counter.querySelector('.slot');
      buildDigits(slot, formatES(val));
      // precarga aleatoria
      slot.querySelectorAll('.digit').forEach(d=>d.textContent=Math.floor(Math.random()*10));
      // anima por dígito
      let i=0;
      for(const node of slot.children){
        if(node.classList && node.classList.contains('digit')){
          spinDigit(node, node.dataset.target, i++);
        }
      }
    }

    // dispara al entrar en viewport
    const stats=document.querySelector('#cifras');
    let fired=false;
    const io=new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting && !fired){
          fired=true; counters.forEach(runCounter); io.disconnect();
        }
      });
    },{threshold:.25});
    if(stats) io.observe(stats);
  })();
  </script>
</body>
</html>
